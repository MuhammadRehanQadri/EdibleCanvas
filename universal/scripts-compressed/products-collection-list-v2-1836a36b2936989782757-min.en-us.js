(function(u){function e(e){var t=e[0];var r=e[1];var i=e[2];var o,n,s=0,a=[];for(;s<t.length;s++){n=t[s];Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&a.push(c[n][0]);c[n]=0}for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(u[o]=r[o]);h&&h(e);while(a.length)a.shift()();d.push.apply(d,i||[]);return l()}function l(){var e;for(var t=0;t<d.length;t++){var r=d[t];var i=true;for(var o=1;o<r.length;o++){var n=r[o];0!==c[n]&&(i=false)}if(i){d.splice(t--,1);e=s(s.s=r[0])}}return e}var r={};var c={"products-collection-list-v2":0};var d=[];function s(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:false,exports:{}};u[e].call(t.exports,t,t.exports,s);t.l=true;return t.exports}s.m=u;s.c=r;s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:r})};s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})};s.t=function(t,e){1&e&&(t=s(t));if(8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);s.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r};s.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};s.d(e,"a",e);return e};s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};s.p="https://assets.squarespace.com/universal/scripts-compressed/";var t=window["wpJsonpStyleLoader"]=window["wpJsonpStyleLoader"]||[];var i=t.push.bind(t);t.push=e;t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var h=i;d.push(["./src/main/webapp/universal/scripts-v6/rollups/products-collection-list-v2.manifest.js","moment-js-vendor","common-vendors"]);return l()})({"./common/temp/node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}e.exports=r},"./common/temp/node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){function r(e){if(Array.isArray(e))return e}e.exports=r},"./common/temp/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){function r(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[];var i=true;var o=false;var n=void 0;try{for(var s=e[Symbol.iterator](),a;!(i=(a=s.next()).done);i=true){r.push(a.value);if(t&&r.length===t)break}}catch(e){o=true;n=e}finally{try{i||null==s["return"]||s["return"]()}finally{if(o)throw n}}return r}e.exports=r},"./common/temp/node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r},"./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,r){var i=r("./common/temp/node_modules/@babel/runtime/helpers/arrayWithHoles.js");var o=r("./common/temp/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js");var n=r("./common/temp/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js");var s=r("./common/temp/node_modules/@babel/runtime/helpers/nonIterableRest.js");function a(e,t){return i(e)||o(e,t)||n(e,t)||s()}e.exports=a},"./common/temp/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(e,t,r){var i=r("./common/temp/node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function o(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}e.exports=o},"./src/main/webapp/universal/scripts-v6/image-zoom.js":function(e,t,r){var i=r("./src/main/webapp/universal/src/shared/utils/rendering.js");YUI.add("squarespace-image-zoom",function(n){n.namespace("Squarespace");var s=n.Squarespace.ImageZoom=n.Base.create("image-zoom",n.Base,[],{initializer:function(){if(!this._shouldInitialize())return;if(!this.get("host")){false;return}this._initializeZoom()},destructor:function(){if(!this._shouldInitialize())return;var e=this.get("zoomedNode");e&&e.remove(true);this.get("host").removeClass(s.CSS_PREFIX).removeClass(s.CSS_PREFIX+"--behavior-"+this.get("behavior"));this.get("dropzone").setStyle("position","").removeClass(s.CSS_PREFIX+"-dropzone");this._zoomTriggerEvent&&this._zoomTriggerEvent.detach();this._mouseMoveEvent&&this._mouseMoveEvent.detach();this._mouseOutEvent&&this._mouseOutEvent.detach();this._resizeEvent&&this._resizeEvent.detach();this._zoomTriggerEvent=null;this._mouseMoveEvent=null;this._mouseOutEvent=null;this._resizeEvent=null},_bindUI:function(){var e=this.get("host");this._zoomTriggerEvent=e.on(this.get("behavior"),this._toggleZoom,this);this._mouseMoveEvent=e.on("mousemove",this._trackMovement,this);this._mouseOutEvent=e.on("mouseout",this._zoomOut,this);this._resizeEvent=n.one(window).on("resize",this._refresh,this)},_shouldInitialize:function(){return!n.UA.mobile&&window.Modernizr.csstransforms},_initializeZoom:function(){var e=this.get("host");var t=e.one("img");var r=this.get("dropzone");e.addClass(s.CSS_PREFIX);e.addClass(s.CSS_PREFIX+"--behavior-"+this.get("behavior"));r.addClass(s.CSS_PREFIX+"-dropzone");"static"===r.getStyle("position")&&r.setStyle("position","relative");if(t.getAttribute("src")){this._appendZoomedNode();this._bindUI()}else t.once("load",function(){this._appendZoomedNode();this._bindUI()},this)},_appendZoomedNode:function(){var e=this.get("host").one("img");var t=e.getAttribute("data-src");if(!t){false;return null}var r=e.getAttribute("data-image-dimensions");r=r||e.get("clientWidth")+"x"+e.get("clientHeight");var i=e.getAttribute("data-image-focal-point");i=i||"0.5,0.5";var o=n.Node.create('<div class="'+s.CSS_PREFIX+'-duplicate"><img src="'+t+"?format="+this._getSquarespaceSizeForWidth()+'" data-image-dimensions="'+r+'" data-image-focal-point="'+i+'"></div>');o.setStyle("transform","scale("+this.get("zoom")+")");o.one("img").plug(n.Squarespace.Loader2,{load:true,mode:"fill"});this.set("zoomedNode",o);this.get("dropzone").append(o)},_refresh:function(){var e=this.get("host").one("img").getAttribute("data-src");var t=this.get("zoomedNode").one("img");t.setAttribute("src",e+"?format="+this._getSquarespaceSizeForWidth());t.fire("refresh")},_toggleZoom:function(e){this.get("_isZoomedIn")?this._zoomOut():this._zoomIn(e);e.stopPropagation()},_zoomIn:function(e){this.get("host").addClass("is-zoomed");this.set("_isZoomedIn",true);this._trackMovement(e)},_zoomOut:function(){this.get("host").removeClass("is-zoomed");this.set("_isZoomedIn",false)},_trackMovement:function(e){if(!this.get("_isZoomedIn"))return;var t=Math.max((e.pageX-this.get("host").getX())/this.get("host").get("clientWidth")*100,0);var r=Math.max((e.pageY-this.get("host").getY())/this.get("host").get("clientHeight")*100,0);this.get("zoomedNode").setStyle("transformOrigin",t+"% "+r+"%")},_getSquarespaceSizeForWidth:function(){var e=this.get("host").one("img").get("clientWidth");return i.getSquarespaceSizeForWidth(e*this.get("zoom"))}},{CSS_PREFIX:"sqs-image-zoom",ATTRS:{host:{value:null,validator:function(e){var t=n.one(e);return n.instanceOf(t,n.Node)&&t.one("img")&&t.all("img").size()<2},writeOnce:true},dropzone:{valueFn:function(){return this.get("host")},validator:function(e){return n.instanceOf(n.one(e),n.Node)},writeOnce:true},behavior:{value:"hover",validator:function(e){if("hover"!==e&&"click"!==e){false;return false}return true},writeOnce:true},zoom:{value:1.5,validator:function(e){("number"!==typeof e||e<=1||e>5)&&false;return true},writeOnce:true},_isZoomedIn:{value:false}}})},"1.0",{requires:["base","event","node","squarespace-image-loader","yui-base"]})},"./src/main/webapp/universal/scripts-v6/rollups/products-collection-list-v2.manifest.js":function(e,t,r){r("./src/main/webapp/universal/scripts-v6/system-collections/products/products-2.0-list.js");r("./src/main/webapp/universal/scripts-v6/image-zoom.js")},"./src/main/webapp/universal/scripts-v6/system-collections/products/products-2.0-list.js":function(e,t,r){var o=r("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-products-collection-list-v2",function(r){r.namespace("Squarespace.SystemCollections.Products").ListV2=r.Base.create("systemCollectionsProductsListV2",r.Base,[],{initializer:function(){this._loadImages();this._bindUI();this._syncUI()},destructor:function(){this._resizeEvent&&this._resizeEvent.detach();this._tweakChangeEvent&&this._tweakChangeEvent.detach();this._tweakResetEvent&&this._tweakResetEvent.detach();r.Array.each(this._onImageLoadEvents,function(e){e.detach()});this._resizeEvent=null;this._tweakChangeEvent=null;this._tweakResetEvent=null;this._onImageLoadEvents=null},_loadImages:function(){this._onImageLoadEvents=[];this.get("images").each(function(e){e.plug(r.Squarespace.Loader2,{load:true,mode:"fill"});this._onImageLoadEvents.push(e.on("load",function(){e.hasClass("ProductList-image--primary")&&e.ancestor(".ProductList-item").addClass("image-is-loaded")}))},this)},_bindUI:function(){this._resizeEvent=r.on("resize",function(){this._syncUI()},r.config.win,this);this._tweakChangeEvent=r.Global.on("tweak:change",this._tweakChangeHandler,this);this._tweakResetEvent=r.Global.on("tweak:reset",this._syncUI,this);window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn()&&r.on("beforeunload",function(){this.destroy(true)},this)},_syncUI:function(){this._adjustSubPixelValues();this.get("images").each(function(e){e.fire("refresh")})},_adjustSubPixelValues:function(){var e=this.get("host").all(".ProductList-item");if(e){e.setStyle("width","");e.setStyle("width",Math.floor(parseInt(e.getStyle("width")[0],10))+"px")}},_tweakChangeHandler:function(e){var t=e.getName();var r=e.getValue();if("tweak-product-list-image-aspect-ratio"===t||"tweak-product-list-item-spacing"===t||"tweak-product-list-filter-display"===t||"tweak-product-list-filter-width"===t)this._syncUI();else if("tweak-product-list-items-per-row"===t){this._previewTweakChangeItemsPerRow();this._syncUI()}else if("tweak-product-list-item-hover-behavior"===t&&r===o("Show Alternate Image")){this._loadImages();this._previewTweakChangeItemHoverBehavior()}},_previewTweakChangeItemsPerRow:function(){var e=parseInt(r.Squarespace.Template.getTweakValue("tweak-product-list-items-per-row"),10);this.get("host").all(".ProductList-item").setStyle("clear","none");this.get("host").all(".ProductList-item:nth-child("+e+"n+1)").setStyle("clear","left");this.get("host").one(".ProductList-grid").setAttribute("data-items-per-row",e)},_previewTweakChangeItemHoverBehavior:function(){var e=this.get("host").one(".ProductList-image--alt");var t=function(){e.setStyle("opacity",1);r.later(1e3,this,function(){e.setStyle("opacity","")})};e.hasClass("loaded")?t():e.once("load",function(){t()})}},{ATTRS:{host:{value:null,validator:function(e){var t=r.one(e);return r.instanceOf(t,r.Node)},writeOnce:true},images:{getter:function(){var e=r.one(".tweak-product-list-item-hover-behavior-show-alternate-image")&&r.one(".tweak-product-list-meta-position-under");if(e&&!r.UA.mobile)return this.get("host").all(".ProductList-image[data-src]");return this.get("host").all(".ProductList-image--primary[data-src]")}}}});var i=[];r.config.win.Squarespace.onInitialize(r,function(){r.all(".ProductList.products-collection-v2").each(function(e){var t=r.config.win.Static.SQUARESPACE_CONTEXT.tweakJSON["tweak-product-list-items-per-row"];e.one(".ProductList-grid").getDOMNode().dataset.itemsPerRow=t;i.push(new r.Squarespace.SystemCollections.Products.ListV2({host:e}))})});r.config.win.Squarespace.onDestroy(r,function(){i.forEach(function(e){e.destroy()});i.length=0})},"1.0",{requires:["base","node","squarespace-beforeunload","squarespace-image-loader","squarespace-image-zoom","squarespace-public-api"]})},"./src/main/webapp/universal/src/shared/utils/rendering.js":function(e,t,r){"use strict";var i=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getWidthForHeight=o;t.getHeightForWidth=n;t.getDimensionsFromNode=a;t.getSquarespaceSizeForWidth=u;t.getIconUrl=l;var s=i(r("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));function o(e,t,r){return e/t*r}function n(e,t,r){return t/e*r}function a(e){var t=e.getAttribute("data-image-dimensions");if("string"===typeof t){var r=t.split("x").map(function(e){return Number(e)}),i=(0,s.default)(r,2),o=i[0],n=i[1];return{width:o,height:n}}return{width:null,height:null}}function u(e){window.devicePixelRatio&&(e*=window.devicePixelRatio);if(e>1500)return"2500w";if(e>1e3)return"1500w";if(e>750)return"1000w";if(e>500)return"750w";if(e>300)return"500w";if(e>100)return"300w";return"100w"}function l(e,t,r){return"/universal/images-v6/icons/icon-".concat(e,"-").concat(t,"-").concat(r,".png")}}});
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/products-collection-list-v2-a357a51ead6232fa8031d-min.en-US.js.map